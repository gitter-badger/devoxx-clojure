<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book Devoxx - Getting started with Clojure coding -->
<!-- Start book Devoxx - Getting started with Clojure coding -->
    <head>
        <!-- head:start -->
<!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>More Java fun | Devoxx - Getting started with Clojure coding</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.1.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-richquotes/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-exercises/exercises.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-quizzes/quizzes.css">
        
    
    
        <link rel="stylesheet" href="../styles/website.css">
    

        
    
    
    <link rel="next" href="../basic-clojure/quick-look-at-types.html" />
    
    
    <link rel="prev" href="../basic-clojure/java-interop.html" />
    

        <!-- head:end -->
<!-- head:end -->
    </head>
    <body>
        <!-- body:start -->
<!-- body:start -->
        
    <div class="book" data-level="4.4" data-basepath=".." data-revision="Sun Jun 14 2015 11:12:19 GMT+0200 (CEST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="requirements.html">
            
                
                    <a href="../requirements.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Requirements
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="overview/index.html">
            
                
                    <a href="../overview/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Overview of Clojure
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="overview/purpose.html">
            
                
                    <a href="../overview/purpose.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        When to use Clojure
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="overview/syntax.html">
            
                
                    <a href="../overview/syntax.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        The syntax
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="overview/design.html">
            
                
                    <a href="../overview/design.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Design
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="overview/repl.html">
            
                
                    <a href="../overview/repl.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Read, Evaluate, Print Loop (REPL)
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="overview/all-bytecode-in-the-end.html">
            
                
                    <a href="../overview/all-bytecode-in-the-end.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        All bytecode in the end
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="overview/features.html">
            
                
                    <a href="../overview/features.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Features in more depth
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="simple-project/index.html">
            
                
                    <a href="../simple-project/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Simple project
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="simple-project/create-project.html">
            
                
                    <a href="../simple-project/create-project.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Create a project
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="simple-project/run-the-repl.html">
            
                
                    <a href="../simple-project/run-the-repl.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Run the REPL
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="basic-clojure/index.html">
            
                
                    <a href="../basic-clojure/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Some Basic Clojure
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="basic-clojure/whats-my-environment.html">
            
                
                    <a href="../basic-clojure/whats-my-environment.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Whats my environment
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="basic-clojure/reading-project-file.html">
            
                
                    <a href="../basic-clojure/reading-project-file.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Reading project file
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="basic-clojure/java-interop.html">
            
                
                    <a href="../basic-clojure/java-interop.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Java Interoperability
                    </a>
                
            
            
        </li>
    
        <li class="chapter active" data-level="4.4" data-path="basic-clojure/more-java-fun.html">
            
                
                    <a href="../basic-clojure/more-java-fun.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        More Java fun
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="basic-clojure/quick-look-at-types.html">
            
                
                    <a href="../basic-clojure/quick-look-at-types.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Quick look at Types
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="basic-clojure/strings.html">
            
                
                    <a href="../basic-clojure/strings.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        Strings
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="basic-clojure/numbers-maths.html">
            
                
                    <a href="../basic-clojure/numbers-maths.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                        Numbers &amp; Maths
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="basic-clojure/ratios.html">
            
                
                    <a href="../basic-clojure/ratios.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.8.</b>
                        
                        Ratios
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="control-flow/index.html">
            
                
                    <a href="../control-flow/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Control flow
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="control-flow/index.html">
            
                
                    <a href="../control-flow/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        if
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="defining-functions/index.html">
            
                
                    <a href="../defining-functions/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Defining fuctions
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="defining-functions/let-local-values.html">
            
                
                    <a href="../defining-functions/let-local-values.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        let local values
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="data-structures/index.html">
            
                
                    <a href="../data-structures/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Data structures
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="data-structures/list.html">
            
                
                    <a href="../data-structures/list.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        List
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="data-structures/map.html">
            
                
                    <a href="../data-structures/map.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Map
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="data-structures/vector.html">
            
                
                    <a href="../data-structures/vector.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Vector
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="data-structures/set.html">
            
                
                    <a href="../data-structures/set.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                        Set
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="using-data-structures/index.html">
            
                
                    <a href="../using-data-structures/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Using data structures
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="using-data-structures/applying-functions.html">
            
                
                    <a href="../using-data-structures/applying-functions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        Applying functions
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="using-data-structures/mapping-data-structures.html">
            
                
                    <a href="../using-data-structures/mapping-data-structures.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        Mapping functions
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" data-path="modifying-data-structures/index.html">
            
                
                    <a href="../modifying-data-structures/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Modifying data structures
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="modifying-data-structures/lists.html">
            
                
                    <a href="../modifying-data-structures/lists.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Lists
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="modifying-data-structures/maps.html">
            
                
                    <a href="../modifying-data-structures/maps.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        Maps
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="modifying-data-structures/vectors.html">
            
                
                    <a href="../modifying-data-structures/vectors.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.3.</b>
                        
                        Vectors
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="9.4" data-path="modifying-data-structures/sets.html">
            
                
                    <a href="../modifying-data-structures/sets.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.4.</b>
                        
                        Sets
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="defining-behaviour-with-functions/index.html">
            
                
                    <a href="../defining-behaviour-with-functions/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Defing behaviour with Functions
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1" data-path="defining-behaviour-with-functions/syntax.html">
            
                
                    <a href="../defining-behaviour-with-functions/syntax.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        Syntax
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="defining-behaviour-with-functions/calling-functions.html">
            
                
                    <a href="../defining-behaviour-with-functions/calling-functions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.2.</b>
                        
                        Calling functions
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="10.3" data-path="defining-behaviour-with-functions/examples.html">
            
                
                    <a href="../defining-behaviour-with-functions/examples.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.3.</b>
                        
                        Examples
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="10.4" data-path="defining-behaviour-with-functions/index.html">
            
                
                    <a href="../defining-behaviour-with-functions/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.4.</b>
                        
                        Parameters
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="10.5" data-path="defining-behaviour-with-functions/using-functions-over-data-structures.html">
            
                
                    <a href="../defining-behaviour-with-functions/using-functions-over-data-structures.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.5.</b>
                        
                        Using Functions over data structures
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11" data-path="local-assignement/index.html">
            
                
                    <a href="../local-assignement/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        Local Assignment
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="libraries/index.html">
            
                
                    <a href="../libraries/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Libraries
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.1" data-path="libraries/clojars.html">
            
                
                    <a href="../libraries/clojars.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.1.</b>
                        
                        Clojars
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="12.2" data-path="libraries/om.html">
            
                
                    <a href="../libraries/om.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.2.</b>
                        
                        om
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="12.3" data-path="libraries/edn.html">
            
                
                    <a href="../libraries/edn.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.3.</b>
                        
                        edn
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="13" data-path="testing/index.html">
            
                
                    <a href="../testing/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Testing
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.1" data-path="testing/index.html">
            
                
                    <a href="../testing/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.</b>
                        
                        Testing
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="13.2" data-path="testing/index.html">
            
                
                    <a href="../testing/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.</b>
                        
                        Testing
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="13.3" data-path="testing/index.html">
            
                
                    <a href="../testing/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.3.</b>
                        
                        Testing
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="14" data-path="leiningen/index.html">
            
                
                    <a href="../leiningen/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        Leiningen Configuration
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="14.1" data-path="leiningen/profile.html">
            
                
                    <a href="../leiningen/profile.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.1.</b>
                        
                        Profiles overview
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="14.2" data-path="leiningen/adding-a-dev-profile.html">
            
                
                    <a href="../leiningen/adding-a-dev-profile.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.2.</b>
                        
                        Adding a dev profile
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="14.3" data-path="leiningen/templates.html">
            
                
                    <a href="../leiningen/templates.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.3.</b>
                        
                        Templates
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="14.4" data-path="leiningen/create-a-template.html">
            
                
                    <a href="../leiningen/create-a-template.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.4.</b>
                        
                        Create a template
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="14.5" data-path="leiningen/plugins.html">
            
                
                    <a href="../leiningen/plugins.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.5.</b>
                        
                        Plugins
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="15" data-path="development-environment/index.html">
            
                
                    <a href="../development-environment/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Development Environments
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="15.1" data-path="development-environment/java.html">
            
                
                    <a href="../development-environment/java.html">
                        <i class="fa fa-check"></i>
                        
                            <b>15.1.</b>
                        
                        Java
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="15.2" data-path="development-environment/leiningen.html">
            
                
                    <a href="../development-environment/leiningen.html">
                        <i class="fa fa-check"></i>
                        
                            <b>15.2.</b>
                        
                        Leiningen
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="15.3" data-path="development-environment/lighttable.html">
            
                
                    <a href="../development-environment/lighttable.html">
                        <i class="fa fa-check"></i>
                        
                            <b>15.3.</b>
                        
                        LightTable
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="15.4" data-path="development-environment/other-tools.html">
            
                
                    <a href="../development-environment/other-tools.html">
                        <i class="fa fa-check"></i>
                        
                            <b>15.4.</b>
                        
                        Other tools
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="16" data-path="work-in-progress.html">
            
                
                    <a href="../work-in-progress.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Work in Progress
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="17" data-path="where-next.html">
            
                
                    <a href="../where-next.html">
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        Where next
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="reference/index.html">
            
                
                    <a href="../reference/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>18.</b>
                        
                        Reference
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="18.1" data-path="reference/basic-syntax.html">
            
                
                    <a href="../reference/basic-syntax.html">
                        <i class="fa fa-check"></i>
                        
                            <b>18.1.</b>
                        
                        Basic Syntax
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="18.2" data-path="reference/functions.html">
            
                
                    <a href="../reference/functions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>18.2.</b>
                        
                        Functions
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="18.3" data-path="reference/sequences.html">
            
                
                    <a href="../reference/sequences.html">
                        <i class="fa fa-check"></i>
                        
                            <b>18.3.</b>
                        
                        Sequences
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="19" data-path="lighttable/index.html">
            
                
                    <a href="../lighttable/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>19.</b>
                        
                        Lighttable
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="19.1" data-path="lighttable/configure-keyboard-mappings.html">
            
                
                    <a href="../lighttable/configure-keyboard-mappings.html">
                        <i class="fa fa-check"></i>
                        
                            <b>19.1.</b>
                        
                        Configure Keyboard mappings
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <a href="../GLOSSARY.html" class="btn pull-left" aria-label="Glossary"><i class="fa fa-sort-alpha-asc"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Devoxx - Getting started with Clojure coding</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="more-java-fun">More Java fun</h1>
<p>Lets try some more examples to show how easy it is to use Java methods and objects.  Remember that everything in <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/package-summary.html" target="_blank">java.lang</a> is available in your Clojure project by default</p>
<h2 id="returning-specific-types">Returning specific types</h2>
<p>Clojure has types, after all it runs on the JVM and included <code>java.lang</code> library in ever project.  Types are infered at runtime, saving you the need to design types yourself.</p>
<p>Sometimes you want to ensure a value is of a particular type and you can use Java to do this.</p>
<blockquote class="clearfix alert alert-info"><strong class="fa fa-4x fa-edit"></strong>
<p> Return a string value as an integer</p>
</blockquote>
<pre><code class="lang-clojure"><span class="hljs-list">(<span class="hljs-keyword"><span class="hljs-built_in">.</span></span> Integer <span class="hljs-string">&quot;123)

;; Or the more common short-hand form
</span></span></code></pre>
<p>(Integer. &quot;123&quot;)</p>
<pre><code class="lang-undefined">This is the equivalent to the Java code `Integer myInt = new Integer(&quot;123&quot;);`.  The `.` function essentially instantiates a new object from the class, in this case `Integer`, passing any arguments to its constructor.  

&gt; **Hint** An example would be converting the port number that was read from an environment variable as a string, but needs to be passed to the Jetty server as a number.  See the [Clojure Webapp workshop](http://practical.li/clojure-webapps) an example.

&gt; More on types in the section [a quick look at types](a-quick-look-at-types.html)


## Calling static methods &amp; fields 

(Classname/staticMethod args*)
Classname/staticField




## Using Static classes and variables
</code></pre>
<p>Math/PI</p>
<p>(def pi Math/PI)</p>
<p>pi</p>
<pre><code class="lang-undefined">;;;;;;;;;;;;;;;;;;;;;;;
;; From java.lang

(.toUpperCase &quot;fred&quot;)

(.getName String)

;; From java.lang.System getProperty() as documented at:
;; http://docs.oracle.com/javase/8/docs/api/java/lang/System.html
(System/getProperty &quot;java.vm.version&quot;)


;; Using java.util.Date import (usually include as part of the namespace definition)

;; (import java.util.Date)

(Date.)

(def *now* (Date.))

(str *now*)


;; calling static methods in java

(let [d (java.util.Date.)]
  (. d getTime))

;; or more commonly use object Instantiation

(let [d (java.util.Date.)]
  (.getTime d)




## Treating Java methods as first class functions 

  ;; Mixing Clojure and Java together in code

(map (memfn toUpperCase) [&quot;a&quot; &quot;short&quot; &quot;message&quot;])

;; The map function applies the function/method toUpperCase to each element in [&quot;a&quot; &quot;short&quot; &quot;message&quot;]
</code></pre>
<h2 id="user-doc-memfn">user=&gt; (doc memfn)</h2>
<p>clojure.core/memfn
([name &amp; args])
Macro
  Expands into code that creates a fn that expects to be passed an
  object and any args and calls the named instance method on the
  object passing the args. Use when you want to treat a Java method as
  a first-class fn. name may be type-hinted with the method receiver&apos;s
  type in order to avoid reflective calls.
nil
user=&gt; (memfn toUpperCase)</p>
<h1 id="-user-eval10731-fn-10732-user-eval10731-fn-10732-7f49d58e"><user$eval10731$fn__10732 user$eval10731$fn__10732@7f49d58e=""></user$eval10731$fn__10732></h1>
<p>user=&gt; (map .toUpperCase [&quot;a&quot; &quot;short&quot; &quot;message&quot;])</p>
<p>CompilerException java.lang.RuntimeException: Unable to resolve symbol: .toUpperCase in this context, compiling:(/tmp/form-init1656377221379906273.clj:1:1) 
user=&gt;</p>
<pre><code class="lang-undefined">## Swing coding





You can call methods on an object using (.methodName object). For example, since all Clojure strings are implemented as Java strings, you can call Java methods on them

&gt; **Note** Use the [.toUpperCase method from java.lang.String](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#toUpperCase--) to return a new String all in upder case. 


```clojure
(.toUpperCase &quot;show me the money&quot;)

; =&gt; &quot;SHOW ME THE MONEY&quot;


&gt; **Note** 

(.indexOf &quot;Where is w in this string&quot; &quot;w&quot;)

; =&gt; 9
</code></pre>
<p>The Clojure syntax allows you to pass arguments to Java methods. In the example above, you passed the argument &quot;y&quot; to the indexOf method.</p>
<p>You can also call static methods on classes and access classes&apos; static fields. Observe!</p>
<p>(java.lang.Math/abs -3)
; =&gt; 3</p>
<p>java.lang.Math/PI
; =&gt; 3.141592653589793</p>
<p>In the first example, you called the abs static method on the java.lang.Math class, and in the second you accessed that class&apos;s PI static field.</p>
<p>(defn print-string [string]</p>
<p>(str string &quot;is &quot; (.length arg) &quot; characters long&quot;))</p>
<p>All of these examples (except java.lang.Math/PI) use macros which expand to use the dot special form. In general, you won&apos;t need to use the dot special form unless you want to write your own macros to interact with Java objects and classes. Nevertheless, here is each example followed by its macroexpansion:</p>
<p>(macroexpand-1 &apos;(.toUpperCase &quot;By Bluebeard&apos;s bananas!&quot;))
; =&gt; (. &quot;By Bluebeard&apos;s bananas!&quot; toUpperCase)</p>
<p>(macroexpand-1 &apos;(.indexOf &quot;Let&apos;s synergize our bleeding edges&quot; &quot;y&quot;))
; =&gt; (. &quot;Let&apos;s synergize our bleeding edges&quot; indexOf &quot;y&quot;)</p>
<p>(macroexpand-1 &apos;(Math/abs -3))
; =&gt; (. Math abs -3)</p>
<p>You can think of the general form of the dot operator as:</p>
<p>(. object-expr-or-classname-symbol method-or-member-symbol optional-args*)</p>
<p>There are a few more details to the dot operator than that, and if you&apos;re interested in exploring it further you can look at clojure.org&apos;s documentation on Java interop.</p>
<p>3.2. Creating and Mutating Instances</p>
<p>The previous section showed you how to call methods on objects that already exist. This section will show you how to create new objects and how to conveniently mutate them.</p>
<p>There are two ways to create a new object: <code>(new ClassName optional-args*)</code> and <code>(ClassName. optional-args*)</code>:</p>
<p><code>(new String)</code>
; =&gt; &quot;&quot;</p>
<p><code>(String.)</code>
; =&gt; &quot;&quot;</p>
<pre><code class="lang-undefined">(String. &quot;To Davey Jones&apos; Locker with ye hardies&quot;)
; =&gt; &quot;To Davey Jones&apos; Locker with ye hardies&quot;
</code></pre>
<p>Most people use the dot version, (ClassName.).</p>
<p>To modify an object, you can just call methods on it like you did in the last section. To show this, let&apos;s use java.util.Stack. This class represents a last-in-first-out stack of objects. Here&apos;s how you might add an object to it:</p>
<p>(java.util.Stack.)
; =&gt; []</p>
<p>(let [stack (java.util.Stack.)]
  (.push stack &quot;Latest episode of Game of Thrones, ho!&quot;)
  stack)
; =&gt; [&quot;Latest episode of Game of Thrones, ho!&quot;]</p>
<p>There are a couple interesting things here. First, you need to create a let binding for stack and add it as the last expression in the let form. If you didn&apos;t do that, then the value of the overall expression would be the string &quot;Latest episode of Game of Fancy Chairs, ho!&quot;, because that&apos;s the return value of push, as you can see here:</p>
<p>(.push (java.util.Stack.) &quot;Latest episode of Game of Thrones, ho!&quot;)
; =&gt; &quot;Latest episode of Game of Thrones, ho!&quot;</p>
<p>Second, Clojure prints the stack with square brackets, the same as it does a vector. It&apos;s not a vector, but it is a seqable data structure:</p>
<p>(let [stack (java.util.Stack.)]
  (.push stack &quot;Latest episode of Game of Thrones, ho!&quot;)
  (first stack))
; =&gt; &quot;Latest episode of Game of Thrones, ho!&quot;</p>
<p>That has nothing to do with mutating Java objects, but it is a nice example of how Clojure&apos;s philosophy of programming to abstractions makes your code flexible. Anyway, back to the topic at hand, me mateys!</p>
<p>Clojure provides the doto macro, which allows you to execute multiple methods on the same object more succinctly:</p>
<p>(doto (java.util.Stack.)
  (.push &quot;Latest episode of Game of Thrones, ho!&quot;)
  (.push &quot;Whoops, I meant &apos;Land, ho!&apos;&quot;))
; =&gt; [&quot;Latest episode of Game of Thrones, ho!&quot; &quot;Whoops, I meant &apos;Land, ho!&apos;&quot;]</p>
<p>The doto macro returns the object itself rather than the return value of any of the method calls, and it&apos;s easier to understand. If you expand it, you can see its structure is identical to the let expression from a few examples ago:</p>
<p>(macroexpand-1
 &apos;(doto (java.util.Stack.)
    (.push &quot;Latest episode of Game of Thrones, ho!&quot;)
    (.push &quot;Whoops, I meant &apos;Land, ho!&apos;&quot;)))
; =&gt; (clojure.core/let
; =&gt;  [G<strong>2876 (java.util.Stack.)]
; =&gt;  (.push G</strong>2876 &quot;Latest episode of Game of Thrones, ho!&quot;)
; =&gt;  (.push G<strong>2876 &quot;Whoops, I meant &apos;Land, ho!&apos;&quot;)
; =&gt;  G</strong>2876)</p>
<p>Convenient!
3.3. Importing</p>
<p>Importing in Clojure has the same effect as it does in Java: you get to use classes without having to type out their entire package prefix:</p>
<p>(import java.util.Stack)
(Stack.)
; =&gt; []</p>
<p>You can also import multiple classes at once using this general form:</p>
<p>(import [package.name1 ClassName1 ClassName2]
        [package.name2 ClassName3 ClassName4])</p>
<p>For example:</p>
<p>(import [java.util Date Stack]
        [java.net Proxy URI])</p>
<p>(Date.)
; =&gt; #inst &quot;2014-09-19T20:40:02.733-00:00&quot;</p>
<p>Usually, though, you&apos;ll do all your importing in the ns macro, like this:</p>
<p>(ns pirate.talk
  (:import [java.util Date Stack]
           [java.net Proxy URI]))</p>
<p>And that&apos;s how you import classes! Pretty easy. To make life even easier, Clojure automatically imports the classes in java.lang, including java.lang.String and java.lang.Math, which is why you were able to use String without a preceding package name.</p>
<ol>
<li>Commonly Used Java Classes</li>
</ol>
<p>To round things out, let&apos;s take a quick tour of the Java classes that you&apos;re most likely to use.
4.1. System</p>
<p>From the Java 8 API docs:</p>
<p>The System class contains several useful class fields and
methods. It cannot be instantiated.</p>
<p>Among the facilities provided by the System class are standard
input, standard output, and error output streams; access to
externally defined properties and environment variables; a means
of loading files and libraries; and a utility method for quickly
copying a portion of an array.</p>
<p>The most useful methods and members are exit, getenv, getProperty. You might recognize System/exit from the Functional Programming chapter, where you used it to exit the Peg Thing game. System/exit terminates the current program, and you can pass it a status code as an argument. (If you&apos;re not familiar with status codes, I recommend Wikipedia&apos;s &quot;Exit status&quot; article.</p>
<p>System/getenv will return your system&apos;s environment variables as a map:</p>
<p>(System/getenv)
{&quot;USER&quot; &quot;the-incredible-bulk&quot;
 &quot;JAVA_ARCH&quot; &quot;x86_64&quot;}</p>
<p>System/getProperty returns a JVM property:</p>
<p>(System/getProperty &quot;user.dir&quot;)
; =&gt; &quot;/Users/dabulk/projects/dabook&quot;</p>
<p>(System/getProperty &quot;java.version&quot;)
; =&gt; &quot;1.7.0_17&quot;</p>
<p>The first call returned the directory that the JVM was started from, and the second of course returned the version of the JVM.
4.2. Date</p>
<p>Java has good tools for working with dates. I won&apos;t go into too much detail about the java.util.Date class because the online api documentation is already thorough. As a Clojure developer, though, there are three things you should know about. First, Clojure allows you to represent dates as literals using a form like this:</p>
<h1 id="inst-2014-09-19t20-40-02-733-00-00">inst &quot;2014-09-19T20:40:02.733-00:00&quot;</h1>
<p>In fact, you saw that exact date just a few paragraphs ago. Second, you need to use the java.util.DateFormat class if you want to customize how you convert dates to strings or if you want to convert strings to dates. Lastly, if you&apos;re doing things like comparing dates or trying to add minutes, hours, or other units of time to a date, then you should use the immensely useful clj-time library.
4.3. Files and IO</p>
<p>In this section, you&apos;ll learn about Java&apos;s approach to IO and you&apos;ll learn how Clojure simplifies it. The clojure.java.io namespace provides many handy functions for simplifying IO. This is great because Java IO isn&apos;t exactly straightforward. Since you&apos;ll probably want to perform IO at some point during your programming career, let&apos;s start wrapping our mind tentacles around it.</p>
<p>Input/output involves resources, be they files, sockets, buffers, or whatever. Java has separate classes for reading a resource&apos;s contents, writings its contents, and for interacting with the resource&apos;s properties.</p>
<p>For example, the java.io.File class is used to interact with a file&apos;s properties. Among other things, you can use it to check whether a file exists, to get the file&apos;s read/write/execute permissions, and to get its filesystem path:</p>
<p>(let [file (java.io.File. &quot;/&quot;)]
  (println (.exists file))
  (println (.canWrite file))
  (println (.getPath file)))
; =&gt; true
; =&gt; false
; =&gt; /</p>
<p>Noticeably missing from this list of capabilities are reading and writing. To read a file, you could use the java.io.BufferedReader class or perhaps java.io.FileReader. Likewise, you can use the java.io.BufferedWriter or java.io.FileWriter class for writing. There are other classes available for reading and writing as well, and which one you choose depends on your specific needs. Reader and Writer classes all have the same base set of methods for their interfaces; readers implement read, close, and more, while writers implement append, write, close, and flush. So, Java gives you a variety of tools for performing IO. A cynical person might say that Java gives you enough rope to hang yourself, and if you find such a person I hope you give them just enough arms to hug them.</p>
<p>Either way, Clojure makes things easier for you. First, there&apos;s spit and slurp. Spit writes to a resource, and slurp reads from one. Here&apos;s an example of using them to write and read a file:</p>
<p>(spit &quot;/tmp/hercules-todo-list&quot;
&quot;- kill dat lion brov</p>
<ul>
<li>chop up what nasty multi-headed snake thing&quot;)</li>
</ul>
<p>(slurp &quot;/tmp/hercules-todo-list&quot;)</p>
<p>; =&gt; &quot;- kill dat lion brov
; =&gt;  - chop up what nasty multi-headed snake thing&quot;</p>
<p>You can also use these functions with objects representing resources other than files. The next example uses a StringWriter, which allows you to perform IO operations on a string:</p>
<p>(let [s (java.io.StringWriter.)]
  (spit s &quot;- capture cerynian hind like for real&quot;)
  (.toString s))
; =&gt; &quot;- capture cerynian hind like for real&quot;</p>
<p>Naturally, you can also read from a StringReader with slurp:</p>
<p>(let [s (java.io.StringReader. &quot;- get erymanthian pig what with the tusks&quot;)]
  (slurp s))
; =&gt; &quot;- get erymanthian pig what with the tusks&quot;</p>
<p>Of course, you can also use the read and write methods for resources. It doesn&apos;t really make much of a difference which you use; spit and slurp are often convenient because they work with just a string representing a filesystem path or a URL.</p>
<p>The with-open macro is another convenience: it implicitly closes a resource at the end of its body. There&apos;s also the reader function, a nice utility which, according to the clojure.java.io api docs, &quot;attempts to coerce its argument to an open java.io.Reader.&quot; This is convenient when you don&apos;t want to use slurp because you don&apos;t want to try to read a resource in its entirety, and you don&apos;t want to figure out which Java class you need to use. You could use it along with with-open and the line-seq function if you&apos;re trying to read a file one line at a time:</p>
<p>(with-open [todo-list-rdr (clojure.java.io/reader &quot;/tmp/hercules-todo-list&quot;)]
  (doseq [todo (line-seq todo-list-rdr)]
    (println todo)))
; =&gt; - kill dat lion brov
; =&gt; - chop up what nasty multi-headed snake thing</p>
<p>That should be enough for you to get started with IO in Clojure. If you&apos;re trying to do something more sophisticated, definitely take a look at the clojure.java.io docs, the java.nio.file package docs, or the java.io package docs.</p>
<ol>
<li>Summary</li>
</ol>
<p>In this chapter, you learned what it means for Clojure to be hosted on the JVM. Clojure programs get compiled to Java bytecode and executed within a JVM process. Clojure programs also have access to Java libraries, and you can easily interact with them using Clojure&apos;s interop facilities.</p>
<ol>
<li>Resources
 The Java Virtual Machine and Compilers Explained
  clojure.java.io
  clojure.org Java interop documentation</li>
</ol>
<h2 id="from-http-clojure-org-java-interop">From <a href="http://clojure.org/java_interop" target="_blank">http://clojure.org/java_interop</a></h2>
<p>(.instanceMember instance args<em>)
(.instanceMember Classname args</em>)
(.-instanceField instance)</p>
<p>(.toUpperCase &quot;fred&quot;)
-&gt; &quot;FRED&quot;
(.getName String)
-&gt; &quot;java.lang.String&quot;
(.-x (java.awt.Point. 1 2))
-&gt; 1
(System/getProperty &quot;java.vm.version&quot;)
-&gt; &quot;1.6.0_07-b06-57&quot;
Math/PI
-&gt; 3.141592653589793</p>
<p>The preferred idiomatic forms for accessing field or method members are given above. The instance member form works for both fields and methods. The instanceField form is preferred for fields and required if both a field and a 0-argument method of the same name exist. They all expand into calls to the dot operator (described below) at macroexpansion time. The expansions are as follows:</p>
<p>(.instanceMember instance args<em>) ==&gt; (. instance instanceMember args</em>)
(.instanceMember Classname args<em>) ==&gt;
    (. (identity Classname) instanceMember args</em>)
(.-instanceField instance) ==&gt; (. instance -instanceField)
(Classname/staticMethod args<em>) ==&gt; (. Classname staticMethod args</em>)
Classname/staticField ==&gt; (. Classname staticField)</p>
<p>The Dot special form</p>
<p>(. instance-expr member-symbol)
(. Classname-symbol member-symbol)
(. instance-expr -field-symbol)
(. instance-expr (method-symbol args<em>)) or
(. instance-expr method-symbol args</em>)
(. Classname-symbol (method-symbol args<em>)) or
(. Classname-symbol method-symbol args</em>)</p>
<p>Special form.</p>
<p>The &apos;.&apos; special form is the basis for access to Java. It can be considered a member-access operator, and/or read as &apos;in the scope of&apos;.</p>
<p>If the first operand is a symbol that resolves to a class name, the access is considered to be to a static member of the named class. Note that nested classes are named EnclosingClass$NestedClass, per the JVM spec. Otherwise it is presumed to be an instance member and the first argument is evaluated to produce the target object.</p>
<p>If the second operand is a symbol and no args are supplied it is taken to be a field access - the name of the field is the name of the symbol, and the value of the expression is the value of the field, unless there is a no argument public method of the same name, in which case it resolves to a call to the method. If the second operand is a symbol starting with -, the member-symbol will resolve only as field access (never as a 0-<a href="../GLOSSARY.html#arity" class="glossary-term" title="  The number of arguments a function takes.  This can be a fixed number or variable number of arguments.  Simple polymorphism can also be used to have one function take different numbers of arguments.">arity</a> method) and should be preferred when that is the intent.</p>
<p>If the second operand is a list, or args are supplied, it is taken to be a method call. The first element of the list must be a simple symbol, and the name of the method is the name of the symbol. The args, if any, are evaluated from left to right, and passed to the matching method, which is called, and its value returned. If the method has a void return type, the value of the expression will be nil. Note that placing the method name in a list with any args is optional in the canonic form, but can be useful to gather args in macros built upon the form.</p>
<p>Note that boolean return values will be turned into Booleans, chars will become Characters, and numeric primitives will become Numbers unless they are immediately consumed by a method taking a primitive.</p>
<p>The member access forms given at the top of this section are preferred for use in all cases other than in macros.</p>
<p>(.. instance-expr member+)
(.. Classname-symbol member+)
member =&gt; fieldName-symbol or (instanceMethodName-symbol args*)</p>
<p>Macro. Expands into a member access (.) of the first member on the first argument, followed by the next member on the result, etc. For instance:</p>
<p>(.. System (getProperties) (get &quot;os.name&quot;))</p>
<p>expands to:</p>
<p>(. (. System (getProperties)) (get &quot;os.name&quot;))</p>
<p>but is easier to write, read, and understand. See also the -&gt; macro which can be used similarly:</p>
<p>(-&gt; (System/getProperties) (.get &quot;os.name&quot;))</p>
<p>(doto instance-expr (instanceMethodName-symbol args<em>)</em>)
Macro. Evaluates instance-expr then calls all of the methods/functions with the supplied arguments in succession on the resulting object, returning it.</p>
<p>(doto (new java.util.HashMap) (.put &quot;a&quot; 1) (.put &quot;b&quot; 2))
-&gt; {a=1, b=2}</p>
<p>Note the above applies to the latest Clojure SVN revision. If you are using the 20080916 release only method calls are allowed, and the syntax is:</p>
<p>(doto (new java.util.HashMap) (put &quot;a&quot; 1) (put &quot;b&quot; 2))
-&gt; {a=1, b=2}</p>
<p>(Classname. args<em>)
(new Classname args</em>)
Special form.
The args, if any, are evaluated from left to right, and passed to the constructor of the class named by Classname. The constructed object is returned.</p>
<p>Alternative Macro Syntax</p>
<p>As shown, in addition to the canonic special form new, Clojure supports special macroexpansion of symbols containing &apos;.&apos;:</p>
<p>(new Classname args*)</p>
<p>can be written</p>
<p>(Classname. args*) ;note trailing dot</p>
<p>the latter expanding into the former at macro expansion time.</p>
<p>(instance? Class expr)
Evaluates expr and tests if it is an instance of the class. Returns true or false</p>
<p>(set! (. instance-expr instanceFieldName-symbol) expr)
(set! (. Classname-symbol staticFieldName-symbol) expr)
Assignment special form.
When the first operand is a field member access form, the assignment is to the corresponding field. If it is an instance field, the instance expr will be evaluated, then the expr.</p>
<p>In all cases the value of expr is returned.</p>
<p>Note - you cannot assign to function params or local bindings. Only Java fields, Vars, Refs and Agents are mutable in Clojure.</p>
<p>(memfn method-name arg-names*)
Macro. Expands into code that creates a fn that expects to be passed an object and any args and calls the named instance method on the object passing the args. Use when you want to treat a Java method as a first-class fn.</p>
<p>(map (memfn charAt i) [&quot;fred&quot; &quot;ethel&quot; &quot;lucy&quot;] [1 2 3])
-&gt; (\r \h \y)</p>
<p>Note it almost always preferable to do this directly now, with syntax like:</p>
<p>(map #(.charAt %1 %2) [&quot;fred&quot; &quot;ethel&quot; &quot;lucy&quot;] [1 2 3])
-&gt; (\r \h \y)</p>
<p>(bean obj)
Takes a Java object and returns a read-only implementation of the map abstraction based upon its JavaBean properties.</p>
<p>(bean [[<a href="http://java.awt.Color/black|java.awt.Color/black" target="_blank">http://java.awt.Color/black|java.awt.Color/black</a>]])
-&gt; {:RGB -16777216, :alpha 255, :transparency 1,
    :class class java.awt.Color, :green 0, :blue 0,
    :colorSpace java.awt.color.ICC_ColorSpace@c94b51, :red 0}</p>
<p>Support for Java in Clojure Library Functions</p>
<p>Many of the Clojure library functions have defined semantics for objects of Java types. contains? and get work on Java Maps, arrays, Strings, the latter two with integer keys. count works on Java Strings, Collections and arrays. nth works on Java Strings, Lists and arrays. seq works on Java reference arrays, Iterables and Strings. Since much of the rest of the library is built upon these functions, there is great support for using Java objects in Clojure algorithms.</p>
<p>Implementing Interfaces and Extending Classes</p>
<p>Clojure supports the dynamic creation of objects that implement one or more interfaces and/or extend a class with the proxy macro. The resulting objects are of an anonymous class. You can also generate statically-named classes and .class files with gen-class. As of Clojure 1.2, reify is also available for implementing interfaces.</p>
<p>( proxy [class-and-interfaces] [args] fs+)
class-and-interfaces - a vector of class names
args - a (possibly empty) vector of arguments to the superclass constructor.
f =&gt; (name [params<em>] body) or (name ([params</em>] body) ([params+] body) ...)</p>
<p>Macro</p>
<p>Expands to code which creates a instance of a proxy class that implements the named class/interface(s) by calling the supplied fns. A single class, if provided, must be first. If not provided it defaults to Object. The interfaces names must be valid interface types. If a method fn is not provided for a class method, the superclass method will be called. If a method fn is not provided for an interface method, an UnsupportedOperationException will be thrown should it be called. Method fns are closures and can capture the environment in which proxy is called. Each method fn takes an additional implicit first arg, which is bound to this. Note that while method fns can be provided to override protected methods, they have no other access to protected members, nor to super, as these capabilities cannot be proxied.</p>
<p>Arrays</p>
<p>Clojure supports the creation, reading and modification of Java arrays. It is recommended that you limit use of arrays to interop with Java libraries that require them as arguments or use them as return values.</p>
<p>Note that many other Clojure functions work with arrays such as via the seq library. The functions listed here exist for initial creation of arrays, or to support mutation or higher performance operations on arrays.</p>
<p>Create array from existing collection: aclone amap to-array to-array-2d into-array
Multi-dimensional array support: aget aset to-array-2d make-array
Type-specific array constructors: boolean-array byte-array char-array double-array float-array int-array long-array object-array short-array
Primitive array casts: booleans bytes chars doubles floats ints longs shorts
Mutate an array: aset
Process an existing array: aget alength amap areduce</p>
<p>Type Hints</p>
<p>Clojure supports the use of type hints to assist the compiler in avoiding reflection in performance-critical areas of code. Normally, one should avoid the use of type hints until there is a known performance bottleneck. Type hints are metadata tags placed on symbols or expressions that are consumed by the compiler. They can be placed on function parameters, let-bound names, var names (when defined), and expressions:</p>
<p>(defn len [x]
  (.length x))</p>
<p>(defn len2 <sup><a href="#fn_String x" id="reffn_String x">String x</a></sup>
  (.length x))</p>
<p>user=&gt; (time (reduce + (map len (repeat 1000000 &quot;asdf&quot;))))
&quot;Elapsed time: 3007.198 msecs&quot;
4000000
user=&gt; (time (reduce + (map len2 (repeat 1000000 &quot;asdf&quot;))))
&quot;Elapsed time: 308.045 msecs&quot;
4000000</p>
<p>Once a type hint has been placed on an identifier or expression, the compiler will try to resolve any calls to methods thereupon at compile time. In addition, the compiler will track the use of any return values and infer types for their use and so on, so very few hints are needed to get a fully compile-time resolved series of calls. Note that type hints are not needed for static members (or their return values!) as the compiler always has the type for statics.</p>
<p>There is a <em>warn-on-reflection</em> flag (defaults to false) which will cause the compiler to warn you when it can&apos;t resolve to a direct call:</p>
<p>(set! <em>warn-on-reflection</em> true)
-&gt; true</p>
<p>(defn foo [s] (.charAt s 1))
-&gt; Reflection warning, line: 2 - call to charAt can&apos;t be resolved.
-&gt; #user/foo</p>
<p>(defn foo <sup><a href="#fn_String s" id="reffn_String s">String s</a></sup> (.charAt s 1))
-&gt; #user/foo</p>
<p>For function return values, the type hint can be placed before the arguments vector:</p>
<p>(defn hinted
  (^String [])
  (^Integer [a])
  (^java.util.List [a &amp; args]))</p>
<p>-&gt; #user/hinted</p>
<p>Aliases</p>
<p>Clojure provides aliases for primitive Java types and arrays which do not have typical representations as Java class names. For example, long arrays (long-array []) have a type of &quot;[J&quot;.</p>
<pre><code class="lang-undefined">int - A primitive int
ints - An int array
long - A primitive long
longs - A long array
float - A primitive float
floats - A float array
double - A primitive double
doubles - A double array
void - A void return
short - A primitive short
shorts - A short array
boolean - A primitive boolean
booleans - A boolean array
byte - A primitive byte
bytes - A byte array
char - A primitive character
chars - A character array
</code></pre>
<p>Support for Java Primitives</p>
<p>Clojure has support for high-performance manipulation of, and arithmetic involving, Java primitive types in local contexts. All Java primitive types are supported: int, float, long, double, boolean, char, short, and byte.</p>
<pre><code class="lang-undefined">let/loop-bound locals can be of primitive types, having the inferred, possibly primitive type of their init-form.
recur forms that rebind primitive locals do so without boxing, and do type-checking for same primitive type.
Arithmetic (+,-,*,/,inc,dec,<,<=,>,&gt;= etc) is overloaded for primitive types where semantics are same.
aget/aset are overloaded for arrays of primitives
aclone, alength functions for arrays of primitives
constructor functions for primitive arrays: float-array, int-array, etc.
Type hints for primitive arrays - ^ints, ^floats, etc.
Coercion ops int, float, etc. produce primitives when consumer can take primitive
The num coercion function boxes primitives to force generic arithmetic
Array cast functions ints longs, etc. which produce int[], long[], etc.
A set of &quot;unchecked&quot; operations for utmost performing, but potentially unsafe, integer (int/long) ops: unchecked-multiply unchecked-dec unchecked-inc unchecked-negate unchecked-add unchecked-subtract unchecked-remainder unchecked-divide
A dynamic var to automatically swap safe operations with unchecked operations: *unchecked-math*
amap and areduce macros for functionally (i.e. non-destructively) processing one or more arrays in order to produce a new array or aggregate value respectively.
</,<=,></code></pre>
<p>Rather than write this Java:</p>
<p>static public float asum(float[] xs){
  float ret = 0;
  for(int i = 0; i &lt; xs.length; i++)
    ret += xs[i];
  return ret;
}</p>
<p>you can write this Clojure:</p>
<p>(defn asum <sup><a href="#fn_floats xs" id="reffn_floats xs">floats xs</a></sup>
  (areduce xs i ret (float 0)
    (+ ret (aget xs i))))</p>
<p>and the resulting code is exactly the same speed (when run with java -server).</p>
<p>The best aspect of this is that you need not do anything special in your initial coding. Quite often these optimizations are unneeded. Should a bit of code be a bottleneck, you can speed it up with minor adornment:</p>
<p>(defn foo [n]
  (loop [i 0]
    (if (&lt; i n)
      (recur (inc i))
      i)))</p>
<p>(time (foo 100000))
&quot;Elapsed time: 0.391 msecs&quot;
100000</p>
<p>(defn foo2 [n]
  (let [n (int n)]
    (loop [i (int 0)]
      (if (&lt; i n)
        (recur (inc i))
        i))))</p>
<p>(time (foo2 100000))
&quot;Elapsed time: 0.084 msecs&quot;
100000</p>
<p>Coercions
At times it is necessary to have a value of a particular primitive type. These coercion functions yield a value of the indicated type as long as such a coercion is possible: bigdec bigint boolean byte char double float int long num short</p>
<p>Some optimization tips</p>
<pre><code class="lang-undefined">All arguments are passed to Clojure fns as objects, so there&apos;s no point to putting non-array primitive type hints on fn args. Instead, use the let technique shown to place args in primitive locals if they need to participate in primitive arithmetic in the body.
(let [foo (int bar)] ...) is the correct way to get a primitive local. Do not use ^Integer etc.
Don&apos;t rush to unchecked math unless you want truncating operations. HotSpot does a good job at optimizing the overflow check, which will yield an exception instead of silent truncation. On a typical example, that has about a 5% difference in speed - well worth it. Also, people reading your code don&apos;t know if you are using unchecked for truncation or performance - best to reserve it for the former and comment if the latter.
There&apos;s usually no point in trying to optimize an outer loop, in fact it can hurt you as you&apos;ll be representing things as primitives which just have to be re-boxed in order to become args to the inner call. The only exception is reflection warnings - you must get rid of them in any code that gets called frequently.
Almost every time someone presents something they are trying to optimize with hints, the faster version has far fewer hints than the original. If a hint doesn&apos;t improve things in the end - take it out.
Many people seem to presume only the unchecked- ops do primitive arithmetic - not so. When the args are primitive locals, regular + and * etc do primitive math with an overflow check - fast and safe.
So, the simplest route to fast math is to leave the operators alone and just make sure the source literals and locals are primitive. Arithmetic on primitives yields primitives. If you&apos;ve got a loop (which you probably do if you need to optimize) make sure the loop locals are primitives first - then if you accidentally are producing a boxed intermediate result you&apos;ll get an error on recur. Don&apos;t solve that error by coercing your intermediate result, instead, figure out what argument or local is not primitive.
</code></pre>
<p>Simple XML Support
Included with the distribution is simple XML support, found in the src/xml.clj file. All names from this file are in the xml namespace.</p>
<p>(parse source)
Parses and loads the source, which can be a File, InputStream or String naming a URI. Returns a tree of the xml/element struct-map, which has the keys :tag, :attrs, and :content. and accessor fns tag, attrs, and content.</p>
<p>(xml/parse &quot;/Users/rich/dev/clojure/build.xml&quot;)
-&gt; {:tag :project, :attrs {:name &quot;clojure&quot;, :default &quot;jar&quot;}, :content [{:tag :description, ...</p>
<p>Calling Clojure From Java
The clojure.java.api package provides a minimal interface to bootstrap Clojure access from other JVM languages. It does this by providing:</p>
<ol>
<li>The ability to use Clojure&apos;s namespaces to locate an arbitrary var, returning the var&apos;s clojure.lang.IFn interface.</li>
<li>A convenience method read for reading data using Clojure&apos;s edn reader</li>
</ol>
<p>IFns provide complete access to Clojure&apos;s APIs. You can also access any other library written in Clojure, after adding either its source or compiled form to the classpath.</p>
<p>The public Java API for Clojure consists of the following classes and interfaces:</p>
<pre><code class="lang-undefined">clojure.java.api.Clojure
clojure.lang.IFn
</code></pre>
<p>All other Java classes should be treated as implementation details, and applications should avoid relying on them.</p>
<p>To lookup and call a Clojure function:</p>
<p>IFn plus = Clojure.var(&quot;clojure.core&quot;, &quot;+&quot;);
plus.invoke(1, 2);</p>
<p>Functions in clojure.core are automatically loaded. Other namespaces can be loaded via require:</p>
<p>IFn require = Clojure.var(&quot;clojure.core&quot;, &quot;require&quot;);
require.invoke(Clojure.read(&quot;clojure.set&quot;));</p>
<p>IFns can be passed to higher order functions, e.g. the example below passes plus to read:</p>
<p>IFn map = Clojure.var(&quot;clojure.core&quot;, &quot;map&quot;);
IFn inc = Clojure.var(&quot;clojure.core&quot;, &quot;inc&quot;);
map.invoke(inc, Clojure.read(&quot;[1 2 3]&quot;));</p>
<p>Most IFns in Clojure refer to functions. A few, however, refer to non-function data values. To access these, use deref instead of fn:</p>
<p>IFn printLength = Clojure.var(&quot;clojure.core&quot;, &quot;<em>print-length</em>&quot;);
IFn deref = Clojure.var(&quot;clojure.core&quot;, &quot;deref&quot;);
deref.invoke(printLength);</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../basic-clojure/java-interop.html" class="navigation navigation-prev " aria-label="Previous page: Java Interoperability"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../basic-clojure/quick-look-at-types.html" class="navigation navigation-next " aria-label="Next page: Quick look at Types"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-codeblock-disable-glossary/disable-glossary.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-disqus/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-exercises/ace/ace.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-exercises/ace/theme-tomorrow.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-exercises/ace/mode-javascript.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-exercises/exercises.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-quizzes/quizzes.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2},"richquotes":{"todos":true},"disqus":{"shortName":"devoxx-clojure-workshop"}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
<!-- body:end -->
<script src="../gitbook/plugins/gitbook-plugin-exercises/jsrepl/jsrepl.js" id="jsrepl-script"></script>
    </body>
    <!-- End of book Devoxx - Getting started with Clojure coding -->
<!-- End of book Devoxx - Getting started with Clojure coding -->
</html>
